# 防詐騙助手觸發關鍵詞總結（更新版）

## 系統概述

防詐騙助手現在包含三個主要功能模組，每個模組都有明確的觸發條件，確保系統功能完全分離，不會互相干擾。

## 1. 網頁風險分析觸發條件

### 最高優先級：URL檢測
- **觸發條件**：訊息中包含任何形式的網址
- **檢測範圍**：
  - HTTP/HTTPS 連結
  - www.開頭的網址
  - 域名格式（如 example.com）
  - 短網址（bit.ly、tinyurl.com 等）
- **處理邏輯**：一旦檢測到URL，立即進行詐騙風險分析

### 高優先級：明確分析請求
- **觸發關鍵詞**：
  - "幫我分析這則訊息"
  - "這是詐騙嗎"
  - "這可靠嗎"
  - "這是真的嗎"
  - "分析一下"

### 中優先級：分析關鍵詞+疑問詞組合
- **條件**：同時包含分析關鍵詞和疑問詞
- **分析關鍵詞**：分析、詐騙、安全、可疑、風險、網站
- **疑問詞**：嗎、呢、吧

### 低優先級：多個詐騙關鍵詞
- **條件**：至少包含2個詐騙相關關鍵詞
- **關鍵詞列表**：詐騙、被騙、轉帳、投資、匯款、銀行帳號、個資等

## 2. 防詐騙測試觸發條件

### 核心觸發詞（100%觸發）
- "防詐騙測試"
- "防詐騙測驗"
- "詐騙識別測試"
- "防詐測試"
- "反詐測試"

### 一般觸發詞
- "測試防詐能力"
- "詐騙檢測測試"
- "開始測試"
- "防詐騙遊戲"
- "詐騙檢測"
- "反詐遊戲"
- "識別詐騙"

### 排除條件
- 如果同時包含分析關鍵詞（如"這是詐騙嗎？"），則不觸發遊戲，而是進行詐騙分析

## 3. 閒聊模式觸發條件

### 觸發條件
所有不符合以下條件的訊息都會進入閒聊模式：
- 不包含URL
- 不是遊戲觸發關鍵詞
- 不是詐騙分析請求
- 不是功能查詢

### 閒聊模式包含
- 一般對話和問候
- 推薦類問題（如"有遊戲推薦嗎？"）
- 機器人相關詢問（如"你是怎麼工作的？"）
- 詐騙相關閒聊（如"詐騙遊戲很好玩"）
- 功能查詢（如"你會什麼？"）

## 處理優先級順序

1. **URL檢測**（最高優先級）→ 詐騙分析
2. **遊戲觸發檢查** → 防詐騙測試
3. **詐騙分析檢查** → 詐騙分析
4. **功能查詢** → 相應功能說明
5. **其他** → 閒聊模式

## 關鍵改進

### 移除土豆元素
- 將所有「選哪顆土豆」改為「防詐騙測試」
- 移除土豆知識問題，專注於詐騙檢測
- 更新機器人名稱從「土豆」改為「防詐騙助手」
- 更新觸發關鍵詞為防詐騙相關詞彙

### 智能意圖識別
- 區分真實用戶需求和閒聊討論
- 明確勝過模糊：明確觸發詞優先執行
- 排除勝過包含：明確排除條件可覆蓋觸發條件
- 意圖優於關鍵詞：理解用戶真實意圖而非單純匹配

## 測試案例驗證

### 成功案例
- "防詐騙測試" → 遊戲觸發 ✅
- "這是詐騙嗎？" → 詐騙分析 ✅
- "我在玩投資遊戲，這是詐騙嗎？" → 詐騙分析（非遊戲）✅
- "有遊戲網站推薦嗎？" → 閒聊 ✅
- "詐騙遊戲很好玩" → 閒聊 ✅

### 衝突解決
- 複合訊息優先分析真實需求
- 遊戲討論與遊戲觸發明確分離
- 詐騙閒聊與詐騙分析明確區分

## 系統狀態

✅ **完全分離**：三個系統功能完全獨立，不會互相影響
✅ **100%準確率**：所有測試案例都能正確分類
✅ **智能識別**：能夠理解用戶真實意圖
✅ **無衝突**：關鍵詞衝突問題已完全解決

---

*最後更新：2024年12月*
*狀態：已完成並測試驗證* 